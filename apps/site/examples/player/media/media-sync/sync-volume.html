<script>
  import { onMount } from 'svelte';

  import '@vidstack/player/define/vds-media.js';
  import '@vidstack/player/define/vds-video.js';
  import '@vidstack/player/define/vds-media-sync.js';

  onMount(() => {
    const mediaSync = document.querySelector('vds-media-sync');

    mediaSync.addEventListener('vds-media-volume-sync', (event) => {
      const { volume, muted } = event.detail;
      console.log(event);
      console.log(`Synced volume to ->`, volume);
      console.log(`Synced muted to ->`, muted);
    });
  });
</script>

<vds-media>
  <vds-media-sync sync-volume>
    <vds-video controls>
      <video controls preload="none" src="https://media-files.vidstack.io/360p.mp4"></video>
    </vds-video>
  </vds-media-sync>
</vds-media>

<vds-media>
  <vds-media-sync sync-volume>
    <vds-video controls>
      <video controls preload="none" src="https://media-files.vidstack.io/360p.mp4"></video>
    </vds-video>
  </vds-media-sync>
</vds-media>
